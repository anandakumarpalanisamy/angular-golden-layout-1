(function(global,factory){typeof exports==="object"&&typeof module!=="undefined"?factory(exports,require("@angular/core"),require("golden-layout"),require("@angular/common")):typeof define==="function"&&define.amd?define(["exports","@angular/core","golden-layout","@angular/common"],factory):factory((global.zef=global.zef||{},global.zef.angularGoldenLayout={}),global.ng.core,global.GoldenLayout,global.ng.common)})(this,function(exports,core,GoldenLayout,common){"use strict";const GOLDEN_LAYOUT_CONFIG=new core.InjectionToken("GOLDEN_LAYOUT_CONFIG");class GoldenLayoutConfig{constructor(config={}){this.assign(config)}assign(config={},target){target=target||this;for(const key in config){if(config[key]!=null&&!Array.isArray(config[key])&&typeof config[key]==="object"&&!(config[key]instanceof HTMLElement)){target[key]={};this.assign(config[key],target[key])}else{target[key]=config[key]}}}}class GoldenLayoutDirective{constructor(renderer,elementRef,differs,defaults){this.renderer=renderer;this.elementRef=elementRef;this.differs=differs;this.defaults=defaults;this.disabled=false}ngOnInit(){const params=new GoldenLayoutConfig(this.defaults);params.assign(this.config);this.instance=new GoldenLayout(params,this.elementRef.nativeElement);if(!this.configDiff){this.configDiff=this.differs.find(this.config||{}).create();this.configDiff.diff(this.config||{})}}ngDoCheck(){if(!this.disabled&&this.configDiff){const changes=this.configDiff.diff(this.config||{});if(changes&&this.instance){this.ngOnDestroy();this.ngOnInit()}}}ngOnDestroy(){if(this.instance){this.instance.destroy();this.instance=null}}ngOnChanges(changes){if(this.instance&&changes["disabled"]){if(changes["disabled"].currentValue!==changes["disabled"].previousValue){if(changes["disabled"].currentValue===false){this.instance.enable()}else if(changes["disabled"].currentValue===true){this.instance.disable()}}}}goldenLayout(){return this.instance}}GoldenLayoutDirective.decorators=[{type:core.Directive,args:[{selector:"[golden-layout]",exportAs:"angularGoldenLayout"}]}];GoldenLayoutDirective.ctorParameters=(()=>[{type:core.Renderer2},{type:core.ElementRef},{type:core.KeyValueDiffers},{type:GoldenLayoutConfig,decorators:[{type:core.Optional},{type:core.Inject,args:[GOLDEN_LAYOUT_CONFIG]}]}]);GoldenLayoutDirective.propDecorators={disabled:[{type:core.Input}],config:[{type:core.Input,args:["golden-layout"]}]};class GoldenLayoutComponent{constructor(){this.disabled=false;this.useGoldenLayoutClass=true}}GoldenLayoutComponent.decorators=[{type:core.Component,args:[{selector:"golden-layout",exportAs:"angularGoldenLayout",template:"<div></div>",styles:[""]}]}];GoldenLayoutComponent.ctorParameters=(()=>[]);GoldenLayoutComponent.propDecorators={disabled:[{type:core.Input}],config:[{type:core.Input}],useGoldenLayoutClass:[{type:core.Input}],directiveRef:[{type:core.ViewChild,args:[GoldenLayoutDirective]}]};class GoldenLayoutModule{}GoldenLayoutModule.decorators=[{type:core.NgModule,args:[{imports:[common.CommonModule],declarations:[GoldenLayoutComponent,GoldenLayoutDirective],exports:[common.CommonModule,GoldenLayoutComponent,GoldenLayoutDirective]}]}];GoldenLayoutModule.ctorParameters=(()=>[]);exports.GoldenLayoutComponent=GoldenLayoutComponent;exports.GoldenLayoutDirective=GoldenLayoutDirective;exports.GOLDEN_LAYOUT_CONFIG=GOLDEN_LAYOUT_CONFIG;exports.GoldenLayoutConfig=GoldenLayoutConfig;exports.GoldenLayoutModule=GoldenLayoutModule;Object.defineProperty(exports,"__esModule",{value:true})});